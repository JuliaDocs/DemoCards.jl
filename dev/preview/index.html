<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Partial build · DemoCards.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../democards/bulmagridtheme.css" rel="stylesheet" type="text/css"/><link href="../democards/gridtheme.css" rel="stylesheet" type="text/css"/><link href="../democards/listtheme.css" rel="stylesheet" type="text/css"/><link href="../democards/bokehlisttheme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="DemoCards.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">DemoCards.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../quickstart/">Quick Start</a></li><li><a class="tocitem" href="../concepts/">Concepts</a></li><li class="is-active"><a class="tocitem" href>Partial build</a><ul class="internal"><li><a class="tocitem" href="#The-REPL-way"><span>The REPL way</span></a></li><li><a class="tocitem" href="#Beyond-REPL"><span>Beyond REPL</span></a></li><li><a class="tocitem" href="#Example-–-JuliaImages"><span>Example – JuliaImages</span></a></li></ul></li><li><a class="tocitem" href="../structure/">Structure manipulation</a></li><li><span class="tocitem">Theme Gallery</span><ul><li><input class="collapse-toggle" id="menuitem-6-1" type="checkbox"/><label class="tocitem" for="menuitem-6-1"><span class="docs-label">Theme: None</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-6-1-1" type="checkbox"/><label class="tocitem" for="menuitem-6-1-1"><span class="docs-label">Markdown</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../themeless/markdown/item1/">Item1</a></li><li><a class="tocitem" href="../themeless/markdown/item2/">Item2</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6-1-2" type="checkbox"/><label class="tocitem" for="menuitem-6-1-2"><span class="docs-label">Julia</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../themeless/julia/item3/">Item3</a></li><li><a class="tocitem" href="../themeless/julia/item4/">Item4</a></li></ul></li></ul></li><li><a class="tocitem" href="../grid/">Theme: Grid</a></li><li><a class="tocitem" href="../bulmagrid/">Theme: Bulma Grid</a></li><li><a class="tocitem" href="../list/">Theme: List</a></li><li><a class="tocitem" href="../bokehlist/">Theme: BokehList</a></li></ul></li><li><a class="tocitem" href="../references/">Package References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Partial build</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Partial build</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaDocs/DemoCards.jl/blob/master/docs/src/preview.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="preview"><a class="docs-heading-anchor" href="#preview">Partial build</a><a id="preview-1"></a><a class="docs-heading-anchor-permalink" href="#preview" title="Permalink"></a></h1><h2 id="The-REPL-way"><a class="docs-heading-anchor" href="#The-REPL-way">The REPL way</a><a id="The-REPL-way-1"></a><a class="docs-heading-anchor-permalink" href="#The-REPL-way" title="Permalink"></a></h2><p>Typically, when you write up examples and demos using <code>DemoCards</code>, you&#39;ll need to do <code>include(&quot;docs/make.jl)</code> to trigger a rebuild for many times. This is okay, just not that fast as you need to rebuild the whole documentation even if you are just making some trivial typo checks. This page shows how you could make this experience smoother, especially for julia demos.</p><p><code>DemoCards</code> uses <a href="https://github.com/fredrikekre/Literate.jl"><code>Literate.jl</code></a> as the backend to transform your julia files to markdown and jupyter notebook. This means that you can code up your example file with whatever programming environment you like. For example, you can use <code>Ctrl-Enter</code> to execute your codes line by line in Juno/VSCode, check the output, add comments, and so on; all these can be done without the need to build the documentation. </p><p>For example, assume that you are writing a <code>demos/sec1/demo1.jl</code></p><pre><code class="language-julia hljs"># demos/sec1/demo1.jl

using Images # you can `Ctrl-Enter` in VSCode to execute this line

img = testimage(&quot;camera&quot;) # `Ctrl-Enter` again, and see the output in the plot panel

# and add more example codes in a REPL way</code></pre><h2 id="Beyond-REPL"><a class="docs-heading-anchor" href="#Beyond-REPL">Beyond REPL</a><a id="Beyond-REPL-1"></a><a class="docs-heading-anchor-permalink" href="#Beyond-REPL" title="Permalink"></a></h2><p>This REPL workflow works pretty well and responsive until you start to building the documentation. For example, There are a lot of demos in <a href="https://juliaimages.org/latest/democards/examples/">JuliaImages demos</a> and it takes several minutes to build the whole documentation. If we&#39;re only to make many some small modifications to one of the demo, then it would be pretty painful to wait the whole build pipeline ends. After all, why should we build demos we don&#39;t care about? Fortunately, <code>DemoCards</code> provides a sandbox environment for you to preview your demos without doing so, which is <a href="../references/#DemoCards.preview_demos-Tuple{String}"><code>preview_demos</code></a>.</p><p>Assume that your <code>docs/make.jl</code> is written up like the following:</p><pre><code class="language-julia hljs"># 1. generate demo files
demopage, postprocess_cb, demo_assets = makedemos(&quot;demos&quot;) # this is the relative path to docs/

# if there are generated css assets, pass it to Documenter.HTML
assets = []
isnothing(demo_assets) || (push!(assets, demo_assets))

# 2. normal Documenter usage
format = Documenter.HTML(assets = assets)
makedocs(format = format,
         pages = [
            &quot;Home&quot; =&gt; &quot;index.md&quot;,
            demopage,
         ],
         sitename = &quot;Awesome demos&quot;)

# 3. postprocess after makedocs
postprocess_cb()</code></pre><p>To preview only one demo in <code>demos</code> folder, say, <code>demos/sec1/demo1.jl</code>, what you need to do is:</p><pre><code class="language-julia hljs">preview_demos(&quot;docs/demos/sec1/demo1.jl&quot;)</code></pre><p>It will output the path to the generated <code>index.html</code> file, for example, it might be something like this:</p><pre><code class="language-julia hljs">&quot;/var/folders/c0/p23z1x6x3jg_qtqsy_r421y40000gn/T/jl_5sc8fM/build/democards/demos/index.html&quot;</code></pre><p>Open this file in your favorite browser, and you&#39;ll see a reduced version of the demo page, which only contains one demo file. Other unrelated contents are not included in this page.</p><p>This <code>preview_demos</code> function is not reserved for single file, it works for folders, too. For example, you could use it with <code>preview_demos(&quot;demos/sec1&quot;)</code>, or just <code>preview_demos(&quot;demos&quot;)</code>.</p><p><code>preview_demos</code> does not do anything magic, it simply copies the single demo file and its assets into a sandbox folder, and trigger the <code>Documenter.makedocs</code> in that folder. Because it doesn&#39;t contain any other files, this process becomes much faster than <code>include(&quot;docs/make.jl&quot;)</code> workflow. Compared to rebuild the whole documentation, building a preview version only adds about 1 extra second to <code>include(&quot;demo1.jl&quot;)</code>.</p><p>If the file is placed in a typical demo page folder structure, <code>preview_demos(file)</code> will preserve that structure. In cases that demo page folder structure is not detected, it will instead create such a folder structure. You can check the following JuliaImages example to see how it looks like.</p><div class="admonition is-success"><header class="admonition-header">Tip</header><div class="admonition-body"><p><code>prewview_demos</code>  accepts an additional <code>theme</code> keyword, that you can use this to override the page theme specified in <code>config.json</code>. For example, if <code>&quot;grid&quot;</code> theme is specified in <code>config.json</code> file, calling <code>preview_demos(&quot;demos&quot;, theme=&quot;list&quot;)</code> would just get you to the list style look without any changes.</p></div></div><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p><code>preview_demos</code> does not include any other part of the documentation in the preview, hence reflinks are very likely to be broken and you will receieve warnings about that. In this case, you still need to <code>include(&quot;docs/make.jl&quot;)</code> to rebuild the whole documentation if reflinks are what you concern about.</p></div></div><h2 id="Example-–-JuliaImages"><a class="docs-heading-anchor" href="#Example-–-JuliaImages">Example – JuliaImages</a><a id="Example-–-JuliaImages-1"></a><a class="docs-heading-anchor-permalink" href="#Example-–-JuliaImages" title="Permalink"></a></h2><p>Let&#39;s take the docs of JuliaImages as a live example, and illustrate how <code>preview_demos</code> can be used in practice.</p><p>First, let&#39;s clone the JuliaImages docs repo:</p><pre><code class="language-bash hljs">git clone https://github.com/JuliaImages/juliaimages.github.io.git
cd juliaimages.github.io.git</code></pre><p>The result might change, but you can still get the idea.</p><h3 id="preview-the-whole-demo-page"><a class="docs-heading-anchor" href="#preview-the-whole-demo-page">preview the whole demo page</a><a id="preview-the-whole-demo-page-1"></a><a class="docs-heading-anchor-permalink" href="#preview-the-whole-demo-page" title="Permalink"></a></h3><p>The following page is generated by <code>preview_demos(&quot;docs/examples&quot;)</code>, note that all other documentation contents are not generated in this page. It only contains the contents in <code>&quot;docs/examples&quot;</code>.</p><p><img src="https://user-images.githubusercontent.com/8684355/92012486-165c5200-ed7f-11ea-90bf-3047a8b79f7c.png" alt="preview page"/></p><h3 id="Preview-one-section-in-the-demo-page"><a class="docs-heading-anchor" href="#Preview-one-section-in-the-demo-page">Preview one section in the demo page</a><a id="Preview-one-section-in-the-demo-page-1"></a><a class="docs-heading-anchor-permalink" href="#Preview-one-section-in-the-demo-page" title="Permalink"></a></h3><p>This is the page generated by <code>preview_demos(&quot;docs/examples/color_channels&quot;)</code>, it only generates the &quot;Color Channels&quot; section:</p><p><img src="https://user-images.githubusercontent.com/8684355/92012519-2116e700-ed7f-11ea-9ce6-eb1a271a44ed.png" alt="preview section"/></p><h3 id="Preview-only-one-file-in-the-demo-page"><a class="docs-heading-anchor" href="#Preview-only-one-file-in-the-demo-page">Preview only one file in the demo page</a><a id="Preview-only-one-file-in-the-demo-page-1"></a><a class="docs-heading-anchor-permalink" href="#Preview-only-one-file-in-the-demo-page" title="Permalink"></a></h3><p>This is the page generated by <code>preview_demos(&quot;docs/examples/color_separations_svd.jl&quot;)</code> with only one demo generated.</p><p><img src="https://user-images.githubusercontent.com/8684355/92012304-da28f180-ed7e-11ea-8546-9dd8c61d0751.png" alt="preview one demo"/></p><h3 id="Preview-files-without-demo-page-structure"><a class="docs-heading-anchor" href="#Preview-files-without-demo-page-structure">Preview files without demo page structure</a><a id="Preview-files-without-demo-page-structure-1"></a><a class="docs-heading-anchor-permalink" href="#Preview-files-without-demo-page-structure" title="Permalink"></a></h3><p>Assume that you have the following folder structure:</p><pre><code class="language-text hljs">testimages/
├── cameraman.jl
└── mandril.jl</code></pre><p>with each file written in this way:</p><pre><code class="language-julia hljs"># This shows how you can load the mandril test image

using Images, TestImages
img = testimage(&quot;mandril&quot;)
save(&quot;assets/mandril.png&quot;, img); #hide #md

# ![](assets/mandril.png)</code></pre><p>Doing this with <code>make_demos(&quot;testimages&quot;)</code> would just fails because it is not a recognizable folder structure, but <code>preview_demos(&quot;testimages&quot;)</code> works nicely with this by creating a wrapper folder preview page:</p><p><img src="https://user-images.githubusercontent.com/8684355/92015507-79e87e80-ed83-11ea-8f1a-6adf4c6c6b81.png" alt="preview random files"/></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../concepts/">« Concepts</a><a class="docs-footer-nextpage" href="../structure/">Structure manipulation »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Tuesday 7 February 2023 13:58">Tuesday 7 February 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
